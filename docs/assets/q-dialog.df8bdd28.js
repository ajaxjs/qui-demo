import{a2 as o,ab as i,a5 as e,R as t,p as n,N as a,n as s,_ as l,o as r,g as u,w as d,D as c,h as m,a as f,C as p,B as h,k as g}from"./index-f676a6ba.js";import{u as k,a as B,b as w}from"./use-model-toggle.81c64145.js";const y={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},_={standard:["zoom-in","zoom-out"],top:["slide-in-down","slide-out-down"],bottom:["slide-in-up","slide-out-up"],right:["slide-in-right","slide-out-right"],left:["slide-in-left","slide-out-left"]};const v=l(a({name:"QDialog",inheritAttrs:!1,props:{...k,...{transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}},transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:o=>"standard"===o||["top","bottom","left","right"].includes(o)}},emits:[...B,"shake","click","escapeKey"],setup(a,{slots:l,emit:r,attrs:u}){const d=t();s(null);const c=s(a.modelValue),m=s(!1),f=s(!1);n((()=>!0!==a.persistent&&!0!==a.noRouteDismiss&&!0!==a.seamless));const p=a.transitionDuration,{show:h,hide:g}=w({showing:c,handleShow:function(o){m.value=!0,k((()=>{m.value=!1,r("show",o)}),a.transitionDuration)},handleHide:function(o){m.value=!0,k((()=>{m.value=!1,r("hide",o)}),a.transitionDuration)},duration:p}),{registerTimeout:k}=function(){let n;const a=t();function s(){clearTimeout(n)}return o(s),i(s),{removeTimeout:s,registerTimeout(o,i){clearTimeout(n),!1===e(a)&&(n=setTimeout(o,i))}}}(),{transitionProps:B,transitionStyle:v}=function(o,i=(()=>{}),e=(()=>{})){return{transitionProps:n((()=>({show:`q-animate--${o.transitionShow||i()}`,hide:`q-animate--${o.transitionHide||e()}`}))),transitionStyle:n((()=>({"--animation-duration":o.transitionDuration+"ms","animation-duration":o.transitionDuration+"ms","animation-fill-mode":"forwards"})))}}(a,(()=>_[a.position][0]),(()=>_[a.position][1])),D=n((()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${!0===a.maximized?"maximized":"minimized"} q-dialog__inner--${a.position} ${y[a.position]}`+(!0===m.value?" q-dialog__inner--animating":"")+(!0===a.fullWidth?" q-dialog__inner--fullwidth":"")+(!0===a.fullHeight?" q-dialog__inner--fullheight":"")+(!0===a.square?" q-dialog__inner--square":"")+(f.value?" q-animate--deny":""))),q=n((()=>!0===m.value?a.modelValue?B.value.show:B.value.hide:"")),S=n((()=>!0===c.value&&!0!==a.seamless)),x=n((()=>["q-dialog fullscreen no-pointer-events q-dialog--"+(!0===S.value?"modal":"seamless"),u.class]));function C(o){var i;!0!==a.persistent&&!0!==a.noBackdropDismiss?g(o):!0!==a.noShake&&(i=o,f.value=!0,r("shake",i),k((()=>{f.value=!1}),150),console.log("shake"))}return!0!==a.noEscDismiss&&window.addEventListener("keyup",(o=>{"Escape"==o.key&&C(o)})),Object.assign(d.proxy,{hide:g,show:h}),{animate:q,animating:m,showing:c,classes:D,useBackdrop:S,rootClasses:x,transitionProps:B,transitionStyle:v,onOutClick:function(o){!0===a.autoClose&&(g(o),r("click",o))},onBackdropClick:C}}}),[["render",function(o,i,e,t,n,a){const s=g;return o.showing?(r(),u(s,{key:0,role:"dialog",class:p(o.rootClasses),"aria-modal":!0===o.useBackdrop?"true":"false",onClick:o.onOutClick},{default:d((()=>[o.useBackdrop?(r(),u(s,{key:0,class:"q-dialog__backdrop fixed-full",style:c({opacity:o.modelValue?1:0,transitionDuration:.6*o.transitionDuration+"ms"}),onTouchstart:o.onBackdropClick,onMousedown:o.onBackdropClick},null,8,["style","onTouchstart","onMousedown"])):m("",!0),f(s,{class:p([o.classes,o.animate]),tabindex:-1,style:c(o.transitionStyle)},{default:d((()=>[h(o.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])])),_:3},8,["class","aria-modal","onClick"])):m("",!0)}],["__scopeId","data-v-17ea7b65"]]);export{v as _};
