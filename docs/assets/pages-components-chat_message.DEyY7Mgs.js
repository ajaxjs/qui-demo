import{_ as e,p as s,r as a,a as t,o as l,g as o,w as n,B as r,c as m,F as u,f as c,t as i,h as g,d as p,C as d,e as f,X as v,m as x,n as y,a5 as k,a7 as q,k as _,ah as C,at as b}from"./index-TqW3uz4B.js";import{_ as H}from"./q-img.tu594ipI.js";import{_ as $}from"./q-footer.DWBj56Ti.js";import{_ as h}from"./q-page.CJRIqz0q.js";const M=e({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:a}){const t=s((()=>!0===e.sent?"sent":"received")),l=s((()=>`q-message-text-content q-message-text-content--${t.value}`+(void 0!==e.textColor?` text-${e.textColor}`:""))),o=s((()=>`q-message-text q-message-text--${t.value}`+(void 0!==e.bgColor?` text-${e.bgColor}`:""))),n=s((()=>"q-message-container row items-end no-wrap"+(!0===e.sent?" reverse":""))),r=s((()=>void 0!==e.size?`col-${e.size}`:""));return{op:t,textClass:l,messageClass:o,containerClass:n,sizeClass:r}}},[["render",function(e,s,y,k,q,_){const C=v,b=x,$=a(t("q-img"),H);return l(),o(b,{class:d(`q-message q-message-${k.op}`)},{default:n((()=>[e.$slots.label||y.label?(l(),o(b,{key:0,class:"q-message-label"},{default:n((()=>[e.$slots.label?r(e.$slots,"label",{key:0}):y.label?(l(),m(u,{key:1},[y.labelHtml?(l(),o(C,{key:0,innerHTML:y.label},null,8,["innerHTML"])):(l(),o(C,{key:1},{default:n((()=>[c(i(y.label),1)])),_:1}))],64)):g("",!0)])),_:3})):g("",!0),p(b,{class:d(k.containerClass)},{default:n((()=>[e.$slots.avatar?r(e.$slots,"$slots.avatar",{key:0}):y.avatar?(l(),o($,{key:1,class:d("q-message-avatar q-message-avatar--"+k.op),src:y.avatar},null,8,["class","src"])):g("",!0),p(b,{class:d(k.sizeClass)},{default:n((()=>[p(b,{class:d("q-message-name q-message-name--"+k.op)},{default:n((()=>[e.$slots.name?r(e.$slots,"name",{key:0}):y.name?(l(),m(u,{key:1},[y.nameHtml?(l(),o(C,{key:0,innerHTML:y.name},null,8,["innerHTML"])):(l(),m(u,{key:1},[c(i(y.name),1)],64))],64)):g("",!0)])),_:3},8,["class"]),e.$slots.default?(l(),o(b,{key:0,class:d([k.messageClass,"last-msg"])},{default:n((()=>[p(b,{class:d(k.textClass)},{default:n((()=>[r(e.$slots,"default")])),_:3},8,["class"])])),_:3},8,["class"])):y.text?(l(!0),m(u,{key:1},f(y.text,((e,s)=>(l(),o(b,{class:d([k.messageClass,s+1==y.text.length?"last-msg":""]),key:s},{default:n((()=>[p(b,{class:d(k.textClass)},{default:n((()=>[y.textHtml?(l(),o(b,{key:0,innerHTML:e},null,8,["innerHTML"])):(l(),m(u,{key:1},[c(i(e),1)],64))])),_:2},1032,["class"])])),_:2},1032,["class"])))),128)):g("",!0),y.stamp?(l(),o(b,{key:2,class:d(["q-message-stamp","text-"+(y.textColor||"grey")])},{default:n((()=>[y.stampHtml?(l(),o(b,{key:0,innerHTML:y.stamp},null,8,["innerHTML"])):(l(),m(u,{key:1},[c(i(y.stamp),1)],64))])),_:1},8,["class"])):g("",!0)])),_:3},8,["class"])])),_:3},8,["class"])])),_:3},8,["class"])}]]),T=e({__name:"chat_message",setup(e){const s=y(null),r=y(""),c=y(!1),i=y([]);function g(e,a,t){i.value.push({sent:a,name:a?"Dook":"Kasi",avatar:"https://picsum.photos/150/150?random="+(a?1:0),text:[e],stamp:"5 åˆ†é’Ÿå‰"}),r.value="",q((()=>{c.value=!0})),s.value.scrollToBottom(100)}const d=["ä½ å¥½å•Šï¼","ä½ å¥½ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ ï¼","æˆ‘ä¹Ÿæ˜¯ï¼Œå¹¸ä¼šå¹¸ä¼šï¼","ä½ æ˜¯åšä»€ä¹ˆçš„å‘€ï¼Ÿ","æˆ‘æ˜¯åšå‰ç«¯çš„ðŸ˜Š","å“¦ã€‚ã€‚ã€‚ðŸ˜‚"];return k((()=>{d.forEach(((e,s)=>{g(e,s%2==0)}))})),(e,d)=>{const v=a(t("q-chat-message"),M),x=C,y=a(t("q-btn"),_),k=a(t("q-footer"),$),q=a(t("q-page"),h);return l(),o(q,{ref_key:"pageRef",ref:s,class:"q-px-sm"},{footer:n((()=>[p(k,null,{default:n((()=>[p(x,{type:"text","confirm-type":"send",focus:c.value,modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=e=>r.value=e),onConfirm:d[1]||(d[1]=e=>g(r.value,!0)),class:"input col",onBlur:d[2]||(d[2]=e=>c.value=!1)},null,8,["focus","modelValue"]),p(y,{unelevated:"",square:"",icon:"send",color:"green",onClick:d[3]||(d[3]=e=>g(r.value,!0))})])),_:1})])),default:n((()=>[(l(!0),m(u,null,f(i.value,((e,s)=>(l(),o(v,b({key:s},e),null,16)))),128))])),_:1},512)}}},[["__scopeId","data-v-c34612ba"]]);export{T as default};
