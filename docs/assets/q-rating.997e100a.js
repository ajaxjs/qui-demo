import{N as e,O as o,P as l,n as a,p as n,ad as r,aB as c,_ as i,r as s,L as t,e as u,o as d,g as f,w as m,c as y,F as g,b as v,B as A,a as h,C as L,D as S,k as b}from"./index-f676a6ba.js";import{u as p,b as I}from"./use-form.99633686.js";const H=i(e({name:"QRating",props:{...o,...p,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{slots:o,emit:i}){const s=l(e);I(e);const t=a(0),u=n((()=>!0!==e.readonly&&!0!==e.disable)),d=n((()=>`q-rating row inline items-center q-rating--${!0===u.value?"":"non-"}editable`+(!0===e.noDimming?" q-rating--no-dimming":"")+(!0===e.disable?" disabled":"")+(void 0!==e.color&&!1===Array.isArray(e.color)?` text-${e.color}`:""))),f=n((()=>{const o=!0===Array.isArray(e.icon)?e.icon.length:0,l=!0===Array.isArray(e.iconSelected)?e.iconSelected.length:0,a=!0===Array.isArray(e.iconHalf)?e.iconHalf.length:0,n=!0===Array.isArray(e.color)?e.color.length:0,r=!0===Array.isArray(e.colorSelected)?e.colorSelected.length:0,c=!0===Array.isArray(e.colorHalf)?e.colorHalf.length:0;return{iconLen:o,icon:o>0?e.icon[o-1]:e.icon,selIconLen:l,selIcon:l>0?e.iconSelected[l-1]:e.iconSelected,halfIconLen:a,halfIcon:a>0?e.iconHalf[l-1]:e.iconHalf,colorLen:n,color:n>0?e.color[n-1]:e.color,selColorLen:r,selColor:r>0?e.colorSelected[r-1]:e.colorSelected,halfColorLen:c,halfColor:c>0?e.colorHalf[c-1]:e.colorHalf}})),m=n((()=>{if("string"==typeof e.iconAriaLabel){const o=e.iconAriaLabel.length>0?`${e.iconAriaLabel} `:"";return e=>`${o}${e}`}if(!0===Array.isArray(e.iconAriaLabel)){const o=e.iconAriaLabel.length;if(o>0)return l=>e.iconAriaLabel[Math.min(l,o)-1]}return(e,o)=>`${o} ${e}`})),y=n((()=>{const o=[],l=f.value,a=Math.ceil(e.modelValue),n=!0===u.value?0:null,r=void 0===e.iconHalf||a===e.modelValue?-1:a;for(let c=1;c<=e.max;c++){const i=0===t.value&&e.modelValue>=c||t.value>0&&t.value>=c,s=r===c&&t.value<c,u=t.value>0&&(!0===s?a:e.modelValue)>=c&&t.value<c,d=!0===s?c<=l.halfColorLen?e.colorHalf[c-1]:l.halfColor:void 0!==l.selColor&&!0===i?c<=l.selColorLen?e.colorSelected[c-1]:l.selColor:c<=l.colorLen?e.color[c-1]:l.color,f=(!0===s?c<=l.halfIconLen?e.iconHalf[c-1]:l.halfIcon:void 0===l.selIcon||!0!==i&&!0!==u?c<=l.iconLen?e.icon[c-1]:l.icon:c<=l.selIconLen?e.iconSelected[c-1]:l.selIcon)||"star";o.push({name:(!0===s?c<=l.halfIconLen?e.iconHalf[c-1]:l.halfIcon:void 0===l.selIcon||!0!==i&&!0!==u?c<=l.iconLen?e.icon[c-1]:l.icon:c<=l.selIconLen?e.iconSelected[c-1]:l.selIcon)||"star",attrs:{tabindex:n,role:"radio","aria-checked":e.modelValue===c?"true":"false","aria-label":m.value(c,f)},iconClass:"q-rating__icon"+(!0===i||!0===s?" q-rating__icon--active":"")+(!0===u?" q-rating__icon--exselected":"")+(t.value===c?" q-rating__icon--hovered":"")+(void 0!==d?` text-${d}`:"")})}return o}));return n((()=>{const o={role:"radiogroup"};return!0===e.disable&&(o["aria-disabled"]="true"),!0===e.readonly&&(o["aria-readonly"]="true"),o})),r((()=>{})),{classes:d,sizeStyle:s,stars:y,set:function(o){if(!0===u.value){const l=c(parseInt(o,10),1,parseInt(e.max,10)),a=!0!==e.noReset&&e.modelValue===l?0:l;a!==e.modelValue&&i("update:modelValue",a),t.value=0}},setHoverValue:function(e){!0===u.value&&(t.value=e)},resetMouseModel:function(){t.value=0}}}}),[["render",function(e,o,l,a,n,r){const c=s(u("q-icon"),t),i=b;return d(),f(i,{class:L(e.classes),style:S(e.sizeStyle)},{default:m((()=>[(d(!0),y(g,null,v(e.stars,((o,l)=>(d(),f(i,{key:l,class:"q-rating__icon-container flex flex-center",onClick:o=>e.set(l+1),onMouseover:o=>e.setHoverValue(l+1),onMouseout:e.resetMouseModel},{default:m((()=>[A(e.$slots,"tip-"+(l+1),{},void 0,!0),h(c,{name:o.name,class:L(o.iconClass)},null,8,["name","class"])])),_:2},1032,["onClick","onMouseover","onMouseout"])))),128))])),_:3},8,["class","style"])}],["__scopeId","data-v-e1b847a1"]]);export{H as _};
